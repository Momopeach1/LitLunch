{"ast":null,"code":"import _classCallCheck from \"/Users/angelc/Documents/GitHub/LitLunch/node_modules/@babel/runtime/helpers/esm/classCallCheck\";\nimport _createClass from \"/Users/angelc/Documents/GitHub/LitLunch/node_modules/@babel/runtime/helpers/esm/createClass\";\nimport _possibleConstructorReturn from \"/Users/angelc/Documents/GitHub/LitLunch/node_modules/@babel/runtime/helpers/esm/possibleConstructorReturn\";\nimport _getPrototypeOf from \"/Users/angelc/Documents/GitHub/LitLunch/node_modules/@babel/runtime/helpers/esm/getPrototypeOf\";\nimport _inherits from \"/Users/angelc/Documents/GitHub/LitLunch/node_modules/@babel/runtime/helpers/esm/inherits\";\nimport _assertThisInitialized from \"/Users/angelc/Documents/GitHub/LitLunch/node_modules/@babel/runtime/helpers/esm/assertThisInitialized\";\nvar _jsxFileName = \"/Users/angelc/Documents/GitHub/LitLunch/src/components/CurrentEvent.js\";\nimport React, { Component } from 'react';\nimport * as firebase from 'firebase/app';\nimport firebaseConfig from '../firebaseConfig';\nimport './current_event.scss'; //import { Route, Switch } from 'react-router-dom';\n// <Switch>\n//   <Route exact path=\"/\" component={JoinEvents} />\n//   <Route exact path=\"/create\" component={CreateEvent} />\n//   <Route exact path=\"/settings\" component={Settings} />\n//   <Route exact path=\"/about\" component={About} />\n//   <Route exact path=\"/profile\" component={Profile} />\n// </Switch>\n\nvar CurrentEvent =\n/*#__PURE__*/\nfunction (_Component) {\n  _inherits(CurrentEvent, _Component);\n\n  function CurrentEvent() {\n    var _this;\n\n    _classCallCheck(this, CurrentEvent);\n\n    _this = _possibleConstructorReturn(this, _getPrototypeOf(CurrentEvent).call(this));\n    _this.state = {\n      \"restaurant\": \"Dominos\",\n      \"time\": \"3:30pm\",\n      \"Owner\": \"Jake\",\n      \"current_event\": \"\"\n    };\n    _this.leaveRegisteredEvent = _this.leaveRegisteredEvent.bind(_assertThisInitialized(_assertThisInitialized(_this)));\n    return _this;\n  }\n\n  _createClass(CurrentEvent, [{\n    key: \"leaveRegisteredEvent\",\n    value: function leaveRegisteredEvent() {\n      var app = this;\n      console.log(\"https://us-central1-litlunch.cloudfunctions.net/litlunch/events/\" + app.state.current_event + \"/leave\");\n      fetch(\"https://us-central1-litlunch.cloudfunctions.net/litlunch/events/\" + app.state.current_event + \"/leave\", {\n        method: \"POST\",\n        headers: {\n          'Accept': 'application/json',\n          'Content-Type': 'application/json',\n          'Authorization': this.props.user.ra\n        },\n        body: JSON.stringify({\n          password: app.state.password\n        })\n      }).then(function (res) {\n        return res.json();\n      }).then(function (res) {\n        //app.setState({\"events\":res});\n        console.log(res);\n      });\n    }\n  }, {\n    key: \"componentDidMount\",\n    value: function componentDidMount() {\n      var a = this;\n      firebase.database().ref(\"users/\" + this.props.user.uid + \"/current_event\").on(\"value\", function (snap) {\n        if (snap.val() == null) a.setState({\n          \"current_event\": \"\"\n        });else a.setState({\n          \"current_event\": snap.val()\n        });\n        console.log(snap.val());\n      });\n      firebase.database().ref(\"events/\" + this.state.current_event).on(\"value\", function (snap) {\n        if (snap.val() == null) a.setState({\n          \"current_event_info\": \"\"\n        });else a.setState({\n          \"current_event_info\": snap.val()\n        });\n        console.log(snap.val());\n      });\n    }\n  }, {\n    key: \"render\",\n    value: function render() {\n      var rendered_members = [];\n\n      if (this.state.current_event_info) {\n        console.log(this.state.current_event_info[this.state.current_event].members);\n\n        for (var member in this.state.current_event_info[this.state.current_event].members) {\n          console.log(member);\n          var temp = React.createElement(\"li\", {\n            __source: {\n              fileName: _jsxFileName,\n              lineNumber: 74\n            },\n            __self: this\n          }, React.createElement(\"p\", {\n            __source: {\n              fileName: _jsxFileName,\n              lineNumber: 74\n            },\n            __self: this\n          }, member));\n          rendered_members.push(temp);\n        }\n      }\n\n      if (this.state.current_event === \"\") return React.createElement(\"div\", {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 80\n        },\n        __self: this\n      });else return React.createElement(\"div\", {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 83\n        },\n        __self: this\n      }, React.createElement(\"div\", {\n        className: \"current_event\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 84\n        },\n        __self: this\n      }, React.createElement(\"div\", {\n        className: \"current_event_wrap\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 85\n        },\n        __self: this\n      }, React.createElement(\"div\", {\n        className: \"current_event_wrap_grid\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 86\n        },\n        __self: this\n      }, React.createElement(\"div\", {\n        className: \"current_event_wrap_grid_enc_a\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 87\n        },\n        __self: this\n      }, React.createElement(\"div\", {\n        className: \"event_pic\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 88\n        },\n        __self: this\n      }), React.createElement(\"p\", {\n        className: \"brief_intro\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 89\n        },\n        __self: this\n      }, \"LITLUNCH AT\"), React.createElement(\"p\", {\n        className: \"restaurant_time\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 90\n        },\n        __self: this\n      }, \"3:00pm\"), React.createElement(\"p\", {\n        className: \"restaurant_name\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 91\n        },\n        __self: this\n      }, \"DOMINOS\"), React.createElement(\"p\", {\n        className: \"restaurant_location\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 92\n        },\n        __self: this\n      }, \"1232 West Flskda\"), React.createElement(\"p\", {\n        className: \"restaurant_desc\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 93\n        },\n        __self: this\n      }, \"descroption\"), React.createElement(\"button\", {\n        onClick: this.leaveRegisteredEvent,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 94\n        },\n        __self: this\n      }, \"Cancel\")), React.createElement(\"div\", {\n        className: \"current_event_wrap_grid_enc_b\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 96\n        },\n        __self: this\n      }, React.createElement(\"p\", {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 97\n        },\n        __self: this\n      }, \"Attending\"), React.createElement(\"ul\", {\n        className: \"current_members\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 98\n        },\n        __self: this\n      }, rendered_members))))));\n    }\n  }]);\n\n  return CurrentEvent;\n}(Component);\n\nexport default CurrentEvent;","map":{"version":3,"sources":["/Users/angelc/Documents/GitHub/LitLunch/src/components/CurrentEvent.js"],"names":["React","Component","firebase","firebaseConfig","CurrentEvent","state","leaveRegisteredEvent","bind","app","console","log","current_event","fetch","method","headers","props","user","ra","body","JSON","stringify","password","then","res","json","a","database","ref","uid","on","snap","val","setState","rendered_members","current_event_info","members","member","temp","push"],"mappings":"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","sourcesContent":["    \nimport React, {Component} from 'react';\nimport * as firebase from 'firebase/app';\nimport firebaseConfig from '../firebaseConfig';\nimport './current_event.scss';\n\n//import { Route, Switch } from 'react-router-dom';\n// <Switch>\n//   <Route exact path=\"/\" component={JoinEvents} />\n//   <Route exact path=\"/create\" component={CreateEvent} />\n//   <Route exact path=\"/settings\" component={Settings} />\n//   <Route exact path=\"/about\" component={About} />\n//   <Route exact path=\"/profile\" component={Profile} />\n// </Switch>\n\n\n\n\nclass CurrentEvent extends Component {\n\tconstructor(){\n\t\tsuper();\n\t\tthis.state = {\n\t\t\t\"restaurant\":\"Dominos\",\n\t\t\t\"time\":\"3:30pm\",\n\t\t\t\"Owner\":\"Jake\",\n\t\t\t\"current_event\":\"\"\n\t\t}\n\t\tthis.leaveRegisteredEvent = this.leaveRegisteredEvent.bind(this);\n\t}\n\n    leaveRegisteredEvent(){\n    let app = this;\n    console.log(\"https://us-central1-litlunch.cloudfunctions.net/litlunch/events/\" +  app.state.current_event + \"/leave\");\n    fetch(\"https://us-central1-litlunch.cloudfunctions.net/litlunch/events/\" +  app.state.current_event + \"/leave\",{\n      method: \"POST\",\n       headers: {\n        'Accept': 'application/json',\n        'Content-Type': 'application/json',\n        'Authorization':this.props.user.ra\n      },\n      body: JSON.stringify({password:app.state.password})\n    }).then(function(res){\n      return res.json();\n    }).then(function(res){\n      //app.setState({\"events\":res});\n      console.log(res);\n\n    })\n  }\n    componentDidMount(){\n    let a = this;\n      firebase.database().ref(\"users/\"+this.props.user.uid + \"/current_event\").on(\"value\", function(snap){\n        if(snap.val()==null)\n        \t a.setState({\"current_event\":\"\"});\n        else\n          a.setState({\"current_event\":snap.val()});\n      console.log(snap.val());\n      })\n       firebase.database().ref(\"events/\"+this.state.current_event).on(\"value\", function(snap){\n        if(snap.val()==null)\n        \t a.setState({\"current_event_info\":\"\"});\n        else\n          a.setState({\"current_event_info\":snap.val()});\n      console.log(snap.val());\n      })\n    }\n  render(){\n  \n  \tlet rendered_members = [];\n  \tif(this.state.current_event_info){\n  \t\t\tconsole.log( this.state.current_event_info[this.state.current_event].members);\n  \t\tfor(let member in this.state.current_event_info[this.state.current_event].members){\n    \tconsole.log(member);\n  \t\t\tlet temp = (<li><p>{member}</p></li>);\n  \t\t\trendered_members.push(temp);\n  \t\t}\n  \t}\n  \n  \tif(this.state.current_event === \"\")\n  \t\treturn(<div></div>)\n  \telse\n\t  \treturn(\n\t\t\t\t<div>\n\t\t\t\t\t<div className=\"current_event\">\n\t\t\t\t\t\t<div className = \"current_event_wrap\">\n\t\t\t\t\t\t\t<div className = \"current_event_wrap_grid\">\n\t\t\t\t\t\t\t\t<div className = \"current_event_wrap_grid_enc_a\">\n\t\t\t\t\t\t\t\t\t<div className = \"event_pic\"></div>\n\t\t\t\t\t\t\t\t\t<p className = \"brief_intro\">LITLUNCH AT</p>\n\t\t\t\t\t\t\t\t\t<p className = \"restaurant_time\">3:00pm</p>\n\t\t\t\t\t\t\t\t\t<p className = \"restaurant_name\">DOMINOS</p>\n\t\t\t\t\t\t\t\t\t<p className = \"restaurant_location\">1232 West Flskda</p>\n\t\t\t\t\t\t\t\t\t<p className = \"restaurant_desc\">descroption</p>\n\t\t\t\t\t\t\t\t\t<button onClick = {this.leaveRegisteredEvent}>Cancel</button>\n\t\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t\t\t<div className = \"current_event_wrap_grid_enc_b\">\n\t\t\t\t\t\t\t\t\t\t<p>Attending</p>\n\t\t\t\t\t\t\t\t\t<ul className = \"current_members\">\n\t\t\t\t\t\t\t\t\t{rendered_members}\n\t\t\t\t\t\t\t\t\t</ul>\n\t\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t</div>\n\t\t\t\t\t</div>\n\t\t\t\t</div>\n);\n  }\n}\nexport default CurrentEvent;"]},"metadata":{},"sourceType":"module"}