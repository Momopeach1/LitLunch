{"ast":null,"code":"import _classCallCheck from \"/Users/angelc/Documents/TestHeroku/BE/client/node_modules/@babel/runtime/helpers/esm/classCallCheck\";\nimport _createClass from \"/Users/angelc/Documents/TestHeroku/BE/client/node_modules/@babel/runtime/helpers/esm/createClass\";\nimport _possibleConstructorReturn from \"/Users/angelc/Documents/TestHeroku/BE/client/node_modules/@babel/runtime/helpers/esm/possibleConstructorReturn\";\nimport _getPrototypeOf from \"/Users/angelc/Documents/TestHeroku/BE/client/node_modules/@babel/runtime/helpers/esm/getPrototypeOf\";\nimport _inherits from \"/Users/angelc/Documents/TestHeroku/BE/client/node_modules/@babel/runtime/helpers/esm/inherits\";\nimport _assertThisInitialized from \"/Users/angelc/Documents/TestHeroku/BE/client/node_modules/@babel/runtime/helpers/esm/assertThisInitialized\";\nvar _jsxFileName = \"/Users/angelc/Documents/TestHeroku/BE/client/src/components/CreateEvent.js\";\nimport React, { Component } from 'react';\nimport './style.scss';\nimport { Button } from 'semantic-ui-react';\n\nvar CreateEvents =\n/*#__PURE__*/\nfunction (_Component) {\n  _inherits(CreateEvents, _Component);\n\n  function CreateEvents() {\n    var _this;\n\n    _classCallCheck(this, CreateEvents);\n\n    _this = _possibleConstructorReturn(this, _getPrototypeOf(CreateEvents).call(this));\n\n    _this.handleStartTime = function (e) {\n      _this.setState({\n        start_time: e.target.value\n      });\n    };\n\n    _this.handleEndTime = function (e) {\n      _this.setState({\n        end_time: e.target.value\n      });\n    };\n\n    _this.handleDate = function (e) {\n      _this.setState({\n        dateDisplay: e.target.value\n      });\n    };\n\n    _this.handleDesc = function (e) {\n      _this.setState({\n        description: e.target.value\n      });\n    };\n\n    var currDateConstructor = new Date(Date.now());\n    var hoursConstructor = currDateConstructor.getHours();\n    var minutesConstructor = currDateConstructor.getMinutes();\n    var mindateConstructor = \"\" + currDateConstructor.getFullYear() + \"-\" + (currDateConstructor.getMonth() + 1 <= 9 ? '0' + (currDateConstructor.getMonth() + 1) : currDateConstructor.getMonth() + 1) + \"-\" + (currDateConstructor.getDate() <= 9 ? '0' + currDateConstructor.getDate() : currDateConstructor.getDate());\n    var minTimeConstructor = \"\" + (hoursConstructor <= 9 ? \"0\" + hoursConstructor : hoursConstructor) + \":\" + (minutesConstructor <= 9 ? \"0\" + minutesConstructor : minutesConstructor);\n    _this.myFunction = _this.myFunction.bind(_assertThisInitialized(_assertThisInitialized(_this)));\n    _this.submitData = _this.submitData.bind(_assertThisInitialized(_assertThisInitialized(_this)));\n    _this.DoSomething = _this.DoSomething.bind(_assertThisInitialized(_assertThisInitialized(_this)));\n    _this.createEvent = _this.createEvent.bind(_assertThisInitialized(_assertThisInitialized(_this)));\n    _this.state = {\n      \"date\": \"\",\n      \"start_time\": \"\" + minTimeConstructor,\n      \"end_time\": \"\" + minTimeConstructor,\n      \"dateDisplay\": \"\" + mindateConstructor,\n      \"description\": \"\"\n    };\n    return _this;\n  }\n\n  _createClass(CreateEvents, [{\n    key: \"createEvent\",\n    value: function createEvent(img_url, date, start, end, restaurant_name, restaurant_location, description) {\n      console.log(this.props.user.displayName, start, end, restaurant_name, restaurant_location, description);\n      var app = this;\n      fetch(\"https://us-central1-litlunch.cloudfunctions.net/litlunch/events/new\", {\n        method: \"POST\",\n        headers: {\n          'Accept': 'application/json',\n          'Content-Type': 'application/json',\n          'Authorization': this.props.user.ra\n        },\n        body: JSON.stringify({\n          ofs: 240,\n          date: date,\n          img_url: img_url,\n          username: app.props.user.displayName,\n          zipcode: 10000,\n          start: start,\n          end: end,\n          restaurant_name: restaurant_name,\n          restaurant_location: restaurant_location,\n          description: description\n        })\n      }).then(function (res) {\n        return res.json();\n      }).then(function (res) {\n        //app.setState({\"events\":res});\n        console.log(res);\n      });\n    }\n  }, {\n    key: \"submitData\",\n    value: function submitData() {\n      /*\n      if(!document.getElementById(\"start_day\").checkValidity())\n      return\n      \n      if(!document.getElementById(\"end_time\").checkValidity())\n      return\n      \n      if(!document.getElementById(\"description\").checkValidity())\n      return*/\n      this.createEvent(this.props.img_url, document.getElementById(\"start_day\").value, document.getElementById(\"start_time\").value, document.getElementById(\"end_time\").value, this.props.restaurant, this.props.location, document.getElementById(\"description\").value);\n    }\n  }, {\n    key: \"DoSomething\",\n    value: function DoSomething() {\n      document.getElementById('button').addEventListener(\"click\", function () {\n        document.querySelector('.bg-modal').style.display = \"flex\";\n      });\n      document.querySelector('.close').addEventListener(\"click\", function () {\n        document.querySelector('.bg-modal').style.display = \"none\";\n      });\n    }\n  }, {\n    key: \"myFunction\",\n    value: function myFunction() {\n      document.getElementById(\"myDropdown\").classList.toggle(\"show\"); // Close the dropdown if the user clicks outside of it\n\n      window.onclick = function (event) {\n        if (!event.target.matches('.dropbtn')) {\n          var dropdowns = document.getElementsByClassName(\"dropdown-content\");\n          var i;\n\n          for (i = 0; i < dropdowns.length; i++) {\n            var openDropdown = dropdowns[i];\n\n            if (openDropdown.classList.contains('show')) {\n              openDropdown.classList.remove('show');\n            }\n          }\n        }\n      };\n    }\n  }, {\n    key: \"render\",\n    value: function render() {\n      var currDate = new Date(Date.now());\n      var hours = currDate.getHours();\n      var minutes = currDate.getMinutes(); //max=\"1979-12-31\"\n\n      var min = \"\" + currDate.getFullYear() + \"-\" + (currDate.getMonth() + 1 < 9 ? '0' + (currDate.getMonth() + 1) : currDate.getMonth() + 1) + \"-\" + (currDate.getDate() < 9 ? '0' + currDate.getDate() : currDate.getDate());\n      var minTime = \"\" + hours + \":\" + minutes;\n      return React.createElement(\"div\", {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 125\n        },\n        __self: this\n      }, React.createElement(\"div\", {\n        className: \"bg-modal\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 127\n        },\n        __self: this\n      }, React.createElement(\"div\", {\n        className: \"modal-contents\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 128\n        },\n        __self: this\n      }, React.createElement(\"p\", {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 129\n        },\n        __self: this\n      }, \"DATE\"), React.createElement(\"input\", {\n        id: \"start_day\",\n        type: \"date\",\n        min: min,\n        required: true,\n        value: this.state.dateDisplay,\n        onChange: this.handleDate,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 130\n        },\n        __self: this\n      }), React.createElement(\"p\", {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 131\n        },\n        __self: this\n      }, \"START TIME\"), React.createElement(\"input\", {\n        id: \"start_time\",\n        type: \"time\",\n        min: minTime,\n        required: true,\n        value: this.state.start_time,\n        onChange: this.handleStartTime,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 132\n        },\n        __self: this\n      }), React.createElement(\"p\", {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 133\n        },\n        __self: this\n      }, \"END TIME\"), React.createElement(\"input\", {\n        id: \"end_time\",\n        type: \"time\",\n        min: minTime,\n        required: true,\n        value: this.state.end_time,\n        onChange: this.handleEndTime,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 134\n        },\n        __self: this\n      }), React.createElement(\"input\", {\n        id: \"description\",\n        type: \"text\",\n        minlength: 1,\n        required: true,\n        placeholder: \"Description\",\n        value: this.state.description,\n        onChange: this.handleDesc,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 135\n        },\n        __self: this\n      }), React.createElement(Button, {\n        disabled: document.getElementById(\"description\") && document.getElementById(\"start_day\") && document.getElementById(\"end_time\") && document.getElementById(\"start_time\") && !document.getElementById(\"start_day\").checkValidity() && !document.getElementById(\"start_time\").checkValidity(),\n        color: \"blue\",\n        onClick: this.submitData,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 136\n        },\n        __self: this\n      }, \"Create\"))));\n    }\n  }]);\n\n  return CreateEvents;\n}(Component);\n\nexport default CreateEvents;","map":{"version":3,"sources":["/Users/angelc/Documents/TestHeroku/BE/client/src/components/CreateEvent.js"],"names":["React","Component","Button","CreateEvents","handleStartTime","e","setState","start_time","target","value","handleEndTime","end_time","handleDate","dateDisplay","handleDesc","description","currDateConstructor","Date","now","hoursConstructor","getHours","minutesConstructor","getMinutes","mindateConstructor","getFullYear","getMonth","getDate","minTimeConstructor","myFunction","bind","submitData","DoSomething","createEvent","state","img_url","date","start","end","restaurant_name","restaurant_location","console","log","props","user","displayName","app","fetch","method","headers","ra","body","JSON","stringify","ofs","username","zipcode","then","res","json","document","getElementById","restaurant","location","addEventListener","querySelector","style","display","classList","toggle","window","onclick","event","matches","dropdowns","getElementsByClassName","i","length","openDropdown","contains","remove","currDate","hours","minutes","min","minTime","checkValidity"],"mappings":"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","sourcesContent":["\nimport React, {Component} from 'react';\nimport './style.scss';\nimport { Button } from 'semantic-ui-react';\n\nclass CreateEvents extends Component{\n\n  constructor(){\n    super();\n     let currDateConstructor = new Date(Date.now());\n     let hoursConstructor = currDateConstructor.getHours();\n    let minutesConstructor = currDateConstructor.getMinutes();\n     let mindateConstructor = \"\"+ currDateConstructor.getFullYear() + \"-\" + ((currDateConstructor.getMonth()+1) <=9 ? ('0'+(currDateConstructor.getMonth()+1)):(currDateConstructor.getMonth()+1)) + \"-\" + (currDateConstructor.getDate() <= 9 ? ('0'+currDateConstructor.getDate()):currDateConstructor.getDate());\n\n    let minTimeConstructor = \"\" + (hoursConstructor<=9?\"0\"+(hoursConstructor):hoursConstructor) + \":\" + (minutesConstructor<=9?\"0\"+minutesConstructor:minutesConstructor);\n\n    this.myFunction = this.myFunction.bind(this);\n    this.submitData = this.submitData.bind(this);\n    this.DoSomething = this.DoSomething.bind(this);\n    this.createEvent = this.createEvent.bind(this);\n    this.state = {\n      \"date\":\"\",\n      \"start_time\":\"\"+minTimeConstructor,\n      \"end_time\":\"\"+minTimeConstructor,\n      \"dateDisplay\":\"\"+mindateConstructor,\n      \"description\":\"\"\n    }\n\n\n  }\n\n    createEvent(img_url, date, start, end, restaurant_name, restaurant_location, description){\n      console.log(this.props.user.displayName, start, end, restaurant_name, restaurant_location, description);\n    let app = this;\n    fetch(\"https://us-central1-litlunch.cloudfunctions.net/litlunch/events/new\",{\n      method: \"POST\",\n       headers: {\n        'Accept': 'application/json',\n        'Content-Type': 'application/json',\n        'Authorization':this.props.user.ra\n      },\n      body: JSON.stringify({ofs:240, date:date, img_url:img_url, username:app.props.user.displayName, zipcode:10000, start:start, end:end, restaurant_name:restaurant_name, restaurant_location:restaurant_location, description:description})\n    }).then(function(res){\n      return res.json();\n    }).then(function(res){\n      //app.setState({\"events\":res});\n      console.log(res);\n\n    })\n  }\n\n  submitData(){\n/*\nif(!document.getElementById(\"start_day\").checkValidity())\nreturn\n\nif(!document.getElementById(\"end_time\").checkValidity())\nreturn\n\nif(!document.getElementById(\"description\").checkValidity())\nreturn*/\n\n\n\n\n\n    this.createEvent(this.props.img_url, (document.getElementById(\"start_day\").value), (document.getElementById(\"start_time\").value), (document.getElementById(\"end_time\").value), this.props.restaurant,this.props.location, (document.getElementById(\"description\").value));\n  }\n\n\n  DoSomething(){\ndocument.getElementById('button').addEventListener(\"click\", function() {\n  document.querySelector('.bg-modal').style.display = \"flex\";\n});\n\ndocument.querySelector('.close').addEventListener(\"click\", function() {\n  document.querySelector('.bg-modal').style.display = \"none\";\n});\n  }\n\n handleStartTime = e => {\n    this.setState({start_time: e.target.value});\n  }\n   handleEndTime = e => {\n    this.setState({end_time: e.target.value});\n  }\n   handleDate = e => {\n    this.setState({dateDisplay: e.target.value});\n  }\n    handleDesc = e => {\n    this.setState({description: e.target.value});\n  }\n\n  myFunction(){\n  document.getElementById(\"myDropdown\").classList.toggle(\"show\");\n\n\n// Close the dropdown if the user clicks outside of it\nwindow.onclick = function(event) {\n  if (!event.target.matches('.dropbtn')) {\n    var dropdowns = document.getElementsByClassName(\"dropdown-content\");\n    var i;\n    for (i = 0; i < dropdowns.length; i++) {\n      var openDropdown = dropdowns[i];\n      if (openDropdown.classList.contains('show')) {\n        openDropdown.classList.remove('show');\n      }\n    }\n  }\n}\n  }\n\n\n\n\n  render(){\n    let currDate = new Date(Date.now());\n    let hours = currDate.getHours();\n    let minutes = currDate.getMinutes();\n    //max=\"1979-12-31\"\n    let min = \"\"+ currDate.getFullYear() + \"-\" + ((currDate.getMonth()+1) < 9 ? ('0'+(currDate.getMonth()+1)):(currDate.getMonth()+1)) + \"-\" + (currDate.getDate() < 9 ? ('0'+currDate.getDate()):currDate.getDate());\n    let minTime = \"\" + hours + \":\" + minutes;\n    \n    return (\n<div>\n\n<div className=\"bg-modal\">\n<div className=\"modal-contents\">\n<p>DATE</p>\n <input id = \"start_day\" type=\"date\" min={min} required value = {this.state.dateDisplay} onChange={this.handleDate}/>\n <p>START TIME</p>\n <input id = \"start_time\" type=\"time\" min = {minTime} required value = {this.state.start_time} onChange={this.handleStartTime}/> \n <p>END TIME</p>\n <input id = \"end_time\"   type=\"time\" min = {minTime} required value = {this.state.end_time} onChange={this.handleEndTime}/>\n <input id = \"description\" type=\"text\" minlength = {1} required placeholder=\"Description\" value = {this.state.description} onChange={this.handleDesc}/>\n<Button disabled = {((document.getElementById(\"description\")&&document.getElementById(\"start_day\")&&document.getElementById(\"end_time\")&&document.getElementById(\"start_time\"))&&(!document.getElementById(\"start_day\").checkValidity()&&!document.getElementById(\"start_time\").checkValidity()))} color=\"blue\" onClick ={this.submitData}>Create</Button>\n</div>\n</div>\n</div>\n);\n  }\n}\n\n\nexport default CreateEvents;"]},"metadata":{},"sourceType":"module"}