{"ast":null,"code":"import _classCallCheck from \"/Users/angelc/Documents/GitHub/LitLunch/node_modules/@babel/runtime/helpers/esm/classCallCheck\";\nimport _createClass from \"/Users/angelc/Documents/GitHub/LitLunch/node_modules/@babel/runtime/helpers/esm/createClass\";\nimport _possibleConstructorReturn from \"/Users/angelc/Documents/GitHub/LitLunch/node_modules/@babel/runtime/helpers/esm/possibleConstructorReturn\";\nimport _getPrototypeOf from \"/Users/angelc/Documents/GitHub/LitLunch/node_modules/@babel/runtime/helpers/esm/getPrototypeOf\";\nimport _inherits from \"/Users/angelc/Documents/GitHub/LitLunch/node_modules/@babel/runtime/helpers/esm/inherits\";\nimport _assertThisInitialized from \"/Users/angelc/Documents/GitHub/LitLunch/node_modules/@babel/runtime/helpers/esm/assertThisInitialized\";\nvar _jsxFileName = \"/Users/angelc/Documents/GitHub/LitLunch/src/components/Events.js\";\nimport React, { Component } from 'react';\nimport EventCard from './EventCard';\nimport * as firebase from 'firebase/app';\nimport firebaseConfig from '../firebaseConfig';\n\nvar Events =\n/*#__PURE__*/\nfunction (_Component) {\n  _inherits(Events, _Component);\n\n  function Events() {\n    var _this;\n\n    _classCallCheck(this, Events);\n\n    _this = _possibleConstructorReturn(this, _getPrototypeOf(Events).call(this));\n    _this.state = {\n      events: [{\n        name: \"2\"\n      }],\n      displayJoining: false\n    };\n    _this.joinEvent = _this.joinEvent.bind(_assertThisInitialized(_assertThisInitialized(_this)));\n    _this.newRegisteredEvent = _this.newRegisteredEvent.bind(_assertThisInitialized(_assertThisInitialized(_this)));\n    _this.confirmJoin = _this.confirmJoin.bind(_assertThisInitialized(_assertThisInitialized(_this)));\n    return _this;\n  }\n\n  _createClass(Events, [{\n    key: \"newRegisteredEvent\",\n    value: function newRegisteredEvent() {\n      var app = this;\n      console.log(\"https://us-central1-litlunch.cloudfunctions.net/litlunch/events/\" + this.state.event_id + \"/join\", this.props.user.ra);\n      fetch(\"https://us-central1-litlunch.cloudfunctions.net/litlunch/events/\" + this.state.event_id + \"/join\", {\n        method: \"POST\",\n        headers: {\n          'Accept': 'application/json',\n          'Content-Type': 'application/json',\n          'Authorization': this.props.user.ra\n        },\n        body: JSON.stringify({\n          displayName: this.props.user.displayName\n        })\n      }).then(function (res) {\n        return res.json();\n      }).then(function (res) {\n        //app.setState({\"events\":res});\n        console.log(res);\n      });\n    }\n  }, {\n    key: \"componentDidMount\",\n    value: function componentDidMount() {\n      var a = this;\n      firebase.database().ref(\"events\").on(\"value\", function (snap) {\n        if (snap.val() == null) return;else a.setState({\n          \"events\": snap.val()\n        });\n      }); //fetch(\"https://us-central1-litlunch.cloudfunctions.net/litlunch/events/\").then((res)=>{return res.json()}).then((data)=>{this.setState({\"events\":data}); console.log(data)});\n    }\n  }, {\n    key: \"joinEvent\",\n    value: function joinEvent(cf, e_id) {\n      console.log(cf, e_id);\n      this.setState({\n        \"displayJoining\": true,\n        \"currentFocus\": cf,\n        \"event_id\": e_id\n      });\n    }\n  }, {\n    key: \"confirmJoin\",\n    value: function confirmJoin() {\n      this.newRegisteredEvent();\n      this.setState({\n        \"displayJoining\": false\n      });\n    }\n  }, {\n    key: \"render\",\n    value: function render() {\n      var rendered_events = [];\n\n      for (var event in this.state.events) {\n        var temp = React.createElement(EventCard, {\n          event_id: event,\n          creator: this.state.events[event].creator,\n          url_img: this.state.events[event].img_url,\n          joinEvent: this.joinEvent,\n          member_count: this.state.events[event].member_count,\n          time: this.state.events[event].time,\n          location: this.state.events[event].restaurant,\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 66\n          },\n          __self: this\n        });\n        rendered_events.push(temp);\n        console.log(this.state.events[event]);\n      }\n\n      rendered_events.reverse();\n      return React.createElement(\"div\", {\n        className: \"view_wrapb\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 73\n        },\n        __self: this\n      }, React.createElement(\"div\", {\n        id: \"joining_event_card\",\n        style: {\n          \"display\": this.state.displayJoining ? \"block\" : \"none\"\n        },\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 74\n        },\n        __self: this\n      }, React.createElement(\"p\", {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 75\n        },\n        __self: this\n      }, \"Confirm joining event at\", React.createElement(\"br\", {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 75\n        },\n        __self: this\n      }), \" \", this.state.currentFocus, \"?\"), React.createElement(\"div\", {\n        class: \"confirming_buttons\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 76\n        },\n        __self: this\n      }, React.createElement(\"div\", {\n        className: \"cb_join\",\n        onClick: this.confirmJoin,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 76\n        },\n        __self: this\n      }, \"Join\"), React.createElement(\"div\", {\n        className: \"cb_cancel\",\n        onClick: this.confirmJoin,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 76\n        },\n        __self: this\n      }, \"Cancel\"))), rendered_events);\n    }\n  }]);\n\n  return Events;\n}(Component);\n\nexport default Events;","map":{"version":3,"sources":["/Users/angelc/Documents/GitHub/LitLunch/src/components/Events.js"],"names":["React","Component","EventCard","firebase","firebaseConfig","Events","state","events","name","displayJoining","joinEvent","bind","newRegisteredEvent","confirmJoin","app","console","log","event_id","props","user","ra","fetch","method","headers","body","JSON","stringify","displayName","then","res","json","a","database","ref","on","snap","val","setState","cf","e_id","rendered_events","event","temp","creator","img_url","member_count","time","restaurant","push","reverse","currentFocus"],"mappings":"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","sourcesContent":["    \nimport React, {Component} from 'react';\nimport EventCard from './EventCard';\nimport * as firebase from 'firebase/app';\nimport firebaseConfig from '../firebaseConfig';\n\n\n\n\nclass Events extends Component{\n\n  constructor(){\n    super();\n    this.state = {\n      events:[{name:\"2\"}],\n      displayJoining:false\n    }\n    this.joinEvent = this.joinEvent.bind(this);\n    this.newRegisteredEvent = this.newRegisteredEvent.bind(this);\n    this.confirmJoin = this.confirmJoin.bind(this);\n  }\n  newRegisteredEvent(){\n    let app = this;\n    console.log(\"https://us-central1-litlunch.cloudfunctions.net/litlunch/events/\" + this.state.event_id + \"/join\", this.props.user.ra);\n\n    fetch(\"https://us-central1-litlunch.cloudfunctions.net/litlunch/events/\" + this.state.event_id + \"/join\",{\n      method: \"POST\",\n       headers: {\n        'Accept': 'application/json',\n        'Content-Type': 'application/json',\n        'Authorization':this.props.user.ra\n      },body: JSON.stringify({displayName:this.props.user.displayName})\n    }).then(function(res){\n      return res.json();\n    }).then(function(res){\n      //app.setState({\"events\":res});\n      console.log(res);\n\n    })\n  }\n\n    componentDidMount(){\n    let a = this;\n      firebase.database().ref(\"events\").on(\"value\", function(snap){\n        if(snap.val()==null)\n          return;\n        else\n          a.setState({\"events\":snap.val()})\n      })\n    //fetch(\"https://us-central1-litlunch.cloudfunctions.net/litlunch/events/\").then((res)=>{return res.json()}).then((data)=>{this.setState({\"events\":data}); console.log(data)});\n  }\n\n\n  joinEvent (cf, e_id){\n    console.log(cf, e_id);\n    this.setState({\"displayJoining\":true, \"currentFocus\":cf, \"event_id\":e_id});\n   }\n   confirmJoin(){\n    this.newRegisteredEvent();\n    this.setState({\"displayJoining\":false});\n   }\n  render(){\n    let rendered_events = [];\n   for(let event in this.state.events) {\n\n      let temp = (<EventCard event_id = {event} creator =  {this.state.events[event].creator} url_img =  {this.state.events[event].img_url}  joinEvent = {this.joinEvent} member_count = {this.state.events[event].member_count} time = {this.state.events[event].time} location = {this.state.events[event].restaurant}/>);\n      rendered_events.push(temp);\n      console.log(this.state.events[event]);\n    }\nrendered_events.reverse();\n\n\n    return (<div className = \"view_wrapb\">\n            <div id = \"joining_event_card\" style = {{\"display\": this.state.displayJoining?\"block\":\"none\"}}>\n            <p>Confirm joining event at<br/> {this.state.currentFocus}?</p>\n            <div class = \"confirming_buttons\"><div className= \"cb_join\" onClick = {this.confirmJoin}>Join</div><div  className= \"cb_cancel\" onClick = {this.confirmJoin}>Cancel</div></div>\n            </div>\n           {rendered_events}\n          </div>);\n  }\n}\n\n\nexport default Events;"]},"metadata":{},"sourceType":"module"}