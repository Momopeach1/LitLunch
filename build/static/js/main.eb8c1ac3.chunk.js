(window.webpackJsonp=window.webpackJsonp||[]).push([[0],{190:function(e,t,a){},211:function(e,t,a){e.exports=a(437)},217:function(e,t,a){},218:function(e,t,a){},219:function(e,t,a){},410:function(e,t,a){},436:function(e,t,a){},437:function(e,t,a){"use strict";a.r(t);var n=a(0),r=a.n(n),i=a(50),s=a.n(i),c=(a(216),a(217),a(21)),l=a(22),o=a(25),u=a(23),m=a(24),d=(a(218),a(8)),h=a(444),v=a(438),p=(a(219),function(e){function t(){var e;return Object(c.a)(this,t),(e=Object(o.a)(this,Object(u.a)(t).call(this))).to12=e.to12.bind(Object(d.a)(Object(d.a)(e))),e}return Object(m.a)(t,e),Object(l.a)(t,[{key:"to12",value:function(e){var t=e+":00",a=+t.substr(0,2),n=a<12||24===a?"AM":"PM";return t=(a%12||12)+t.substr(2,3)+n}},{key:"render",value:function(){var e=this;return r.a.createElement("div",{className:"card-wrap-semantic"},r.a.createElement(h.a,{id:"card"},r.a.createElement(h.a.Content,{id:"creator"},r.a.createElement("div",{id:"image_wrap"},r.a.createElement("div",{id:"image",style:{"background-image":'url("'+this.props.url_img+'")'}})),r.a.createElement(h.a.Header,{style:{"text-transform":"uppercase","padding-top":"30px","font-size":"30px","font-family":"Futura","font-weight":"bold"}},this.props.restaurant),r.a.createElement(h.a.Meta,null,this.props.time),r.a.createElement(h.a.Description,null,this.props.creator," wants to Have lunch at ",r.a.createElement("strong",{style:{"text-transform":"uppercase"}},this.props.restaurant),parseInt(this.props.member_count)>1?" with "+parseInt(this.props.member_count-1)+" more!":"",r.a.createElement("br",null),this.props.location,r.a.createElement("br",null),this.props.desc,r.a.createElement("br",null),this.to12(this.props.start),"-",this.to12(this.props.end))),r.a.createElement(h.a.Content,{extra:!0},r.a.createElement("div",{className:"ui two buttons"},r.a.createElement(v.a,{id:"join_button",onClick:function(){e.props.joinEvent(e.props.restaurant,e.props.event_id)}},"Join")))))}}]),t}(n.Component)),b=a(46),g=function(e){function t(){var e;return Object(c.a)(this,t),(e=Object(o.a)(this,Object(u.a)(t).call(this))).state={events:[],displayJoining:!1},e.joinEvent=e.joinEvent.bind(Object(d.a)(Object(d.a)(e))),e.newRegisteredEvent=e.newRegisteredEvent.bind(Object(d.a)(Object(d.a)(e))),e.confirmJoin=e.confirmJoin.bind(Object(d.a)(Object(d.a)(e))),e.cancelJoin=e.cancelJoin.bind(Object(d.a)(Object(d.a)(e))),e}return Object(m.a)(t,e),Object(l.a)(t,[{key:"newRegisteredEvent",value:function(){console.log("https://us-central1-litlunch.cloudfunctions.net/litlunch/events/"+this.state.event_id+"/join",this.props.user.ra),fetch("https://us-central1-litlunch.cloudfunctions.net/litlunch/events/"+this.state.event_id+"/join",{method:"POST",headers:{Accept:"application/json","Content-Type":"application/json",Authorization:this.props.user.ra},body:JSON.stringify({displayName:this.props.user.displayName})}).then(function(e){return e.json()}).then(function(e){console.log(e)})}},{key:"componentDidMount",value:function(){var e=this;b.database().ref("events").on("value",function(t){null!=t.val()?e.setState({events:t.val()}):e.setState({events:[]})})}},{key:"joinEvent",value:function(e,t){console.log(e,t),this.setState({displayJoining:!0,currentFocus:e,event_id:t})}},{key:"confirmJoin",value:function(){this.newRegisteredEvent(),this.setState({displayJoining:!1})}},{key:"cancelJoin",value:function(){this.setState({displayJoining:!1})}},{key:"render",value:function(){var e=[];for(var t in this.state.events){var a=r.a.createElement(p,{event_id:t,location:this.state.events[t].location,date:this.state.events[t].date,end:this.state.events[t].end,start:this.state.events[t].start,desc:this.state.events[t].description,creator:this.state.events[t].creator,url_img:this.state.events[t].img_url,joinEvent:this.joinEvent,member_count:this.state.events[t].member_count,time:this.state.events[t].time,restaurant:this.state.events[t].restaurant});e.push(a),console.log(this.state.events[t])}return e.reverse(),r.a.createElement("div",{className:"view_wrapb"},r.a.createElement("div",{id:"joining_event_card",style:{display:this.state.displayJoining?"block":"none"}},r.a.createElement("p",null,"Confirm joining event at",r.a.createElement("br",null)," ",this.state.currentFocus,"?"),r.a.createElement("div",{class:"confirming_buttons"},r.a.createElement("div",{className:"cb_join",onClick:this.confirmJoin},"Join"),r.a.createElement("div",{className:"cb_cancel",onClick:this.cancelJoin},"Cancel"))),r.a.createElement("div",{className:"view_events_grid"},e))}}]),t}(n.Component),E=a(445),f=(a(410),a(58)),_=function(e){function t(){var e,a;Object(c.a)(this,t);for(var n=arguments.length,r=new Array(n),i=0;i<n;i++)r[i]=arguments[i];return(a=Object(o.a)(this,(e=Object(u.a)(t)).call.apply(e,[this].concat(r)))).state={activeItem:"home"},a.handleItemClick=function(e,t){var n=t.name;a.setState({activeItem:n})},a}return Object(m.a)(t,e),Object(l.a)(t,[{key:"render",value:function(){var e=this.state.activeItem;return r.a.createElement("div",{className:"navbar-wrap-semantic"},r.a.createElement(E.a,{secondary:!0,id:"menu"},r.a.createElement(f.b,{to:"/events",style:{all:"unset"}},r.a.createElement(E.a.Item,{name:"home",active:"home"===e,onClick:this.handleItemClick},"Events")),r.a.createElement(f.b,{to:"/create",style:{all:"unset"}},r.a.createElement(E.a.Item,{name:"create",active:"create"===e,onClick:this.handleItemClick},"Create")),r.a.createElement(E.a.Menu,{position:"right"},r.a.createElement(E.a.Item,{name:this.props.user_name})),r.a.createElement(E.a.Item,{name:"Sign Out",active:"Sign Out"===e,onClick:this.props.signOut})))}}]),t}(n.Component),y=a(201),j=(a(431),a(433),a(190),a(447)),O=a(446),k=a(443),C=function(e){function t(e){var a;return Object(c.a)(this,t),(a=Object(o.a)(this,Object(u.a)(t).call(this,e))).handleChange=function(e){console.log("rating: "+e.target.value),a.setState({rating:e.target.value})},a.handlePrice=function(e){console.log("price: "+e.target.value),a.setState({price:e.target.value})},a.handleTime=function(e){console.log("time: "+e.target.value),a.setState({time:e.target.value})},a.handleZIP=function(e){console.log("zip: "+e.target.value),a.setState({zipCode:e.target.value})},a.state={rating:0,price:0,zipCode:0},a.handleChange=a.handleChange.bind(Object(d.a)(Object(d.a)(a))),a.handlePrice=a.handlePrice.bind(Object(d.a)(Object(d.a)(a))),a.handleTime=a.handleTime.bind(Object(d.a)(Object(d.a)(a))),a}return Object(m.a)(t,e),Object(l.a)(t,[{key:"render",value:function(){var e=this;this.state.rating;return r.a.createElement("div",null,r.a.createElement(j.a,{attached:"top"},r.a.createElement(O.a,{as:"h1"},"Filters")),r.a.createElement(j.a,{attached:!0},r.a.createElement(O.a,{as:"h3"},"ZIP Code"),r.a.createElement("div",{align:"center"},r.a.createElement(k.a,{icon:"tags",iconPosition:"left",label:{tag:!0,content:"Add ZIP Code"},labelPosition:"right",onChange:this.handleZIP,placeholder:"Enter ZIP Code"}))),r.a.createElement(j.a,{attached:!0},r.a.createElement(O.a,{as:"h3"},"Price"),r.a.createElement(v.a.Group,{color:"blue"},r.a.createElement(v.a,{onClick:this.handlePrice,value:1},"$"),r.a.createElement(v.a,{onClick:this.handlePrice,value:2},"$$"),r.a.createElement(v.a,{onClick:this.handlePrice,value:3},"$$$"),r.a.createElement(v.a,{onClick:this.handlePrice,value:4},"$$$$"),r.a.createElement(v.a,{onClick:this.handlePrice,value:5},"$$$$$"))),r.a.createElement(j.a,{attached:"bottom"},r.a.createElement(v.a,{onClick:function(){e.props.submit_filter(e.state.rating,e.state.price,e.state.zipCode)},value:1},"search")))}}]),t}(n.Component),w=function(e){function t(){var e;Object(c.a)(this,t),(e=Object(o.a)(this,Object(u.a)(t).call(this))).handleStartTime=function(t){e.setState({start_time:t.target.value})},e.handleEndTime=function(t){e.setState({end_time:t.target.value})},e.handleDate=function(t){e.setState({dateDisplay:t.target.value})},e.handleDesc=function(t){e.setState({description:t.target.value})};var a=new Date(Date.now()),n=a.getHours(),r=a.getMinutes(),i=a.getFullYear()+"-"+(a.getMonth()+1<=9?"0"+(a.getMonth()+1):a.getMonth()+1)+"-"+(a.getDate()<=9?"0"+a.getDate():a.getDate()),s=(n<=9?"0"+n:n)+":"+(r<=9?"0"+r:r);return e.myFunction=e.myFunction.bind(Object(d.a)(Object(d.a)(e))),e.submitData=e.submitData.bind(Object(d.a)(Object(d.a)(e))),e.DoSomething=e.DoSomething.bind(Object(d.a)(Object(d.a)(e))),e.createEvent=e.createEvent.bind(Object(d.a)(Object(d.a)(e))),e.state={date:"",start_time:""+s,end_time:""+s,dateDisplay:""+i,description:""},e}return Object(m.a)(t,e),Object(l.a)(t,[{key:"createEvent",value:function(e,t,a,n,r,i,s){console.log(this.props.user.displayName,a,n,r,i,s);fetch("https://us-central1-litlunch.cloudfunctions.net/litlunch/events/new",{method:"POST",headers:{Accept:"application/json","Content-Type":"application/json",Authorization:this.props.user.ra},body:JSON.stringify({ofs:240,date:t,img_url:e,username:this.props.user.displayName,zipcode:1e4,start:a,end:n,restaurant_name:r,restaurant_location:i,description:s})}).then(function(e){return e.json()}).then(function(e){console.log(e)})}},{key:"submitData",value:function(){this.createEvent(this.props.img_url,document.getElementById("start_day").value,document.getElementById("start_time").value,document.getElementById("end_time").value,this.props.restaurant,this.props.location,document.getElementById("description").value)}},{key:"DoSomething",value:function(){document.getElementById("button").addEventListener("click",function(){document.querySelector(".bg-modal").style.display="flex"}),document.querySelector(".close").addEventListener("click",function(){document.querySelector(".bg-modal").style.display="none"})}},{key:"myFunction",value:function(){document.getElementById("myDropdown").classList.toggle("show"),window.onclick=function(e){if(!e.target.matches(".dropbtn")){var t,a=document.getElementsByClassName("dropdown-content");for(t=0;t<a.length;t++){var n=a[t];n.classList.contains("show")&&n.classList.remove("show")}}}}},{key:"render",value:function(){var e=new Date(Date.now()),t=e.getHours(),a=e.getMinutes(),n=(e.getFullYear(),e.getMonth()+1<=9?e.getMonth():e.getMonth(),e.getDate()<=9?e.getDate():e.getDate(),(t<=9?"0"+t:t)+":"+(a<=9?"0"+a:a));return r.a.createElement("div",null,r.a.createElement("div",{className:"bg-modal"},r.a.createElement("div",{className:"modal-contents"},r.a.createElement("p",null,"DATE"),r.a.createElement("input",{id:"start_day",type:"date",min:this.state.dateDisplay,required:!0,value:this.state.dateDisplay,onChange:this.handleDate}),r.a.createElement("p",null,"START TIME"),r.a.createElement("input",{id:"start_time",type:"time",min:n,required:!0,value:this.state.start_time,onChange:this.handleStartTime}),r.a.createElement("p",null,"END TIME"),r.a.createElement("input",{id:"end_time",type:"time",min:this.state.start_time,required:!0,value:this.state.end_time,onChange:this.handleEndTime}),r.a.createElement("input",{id:"description",type:"text",minlength:1,required:!0,placeholder:"Description",value:this.state.description,onChange:this.handleDesc}),r.a.createElement(v.a,{disabled:document.getElementById("description")&&document.getElementById("start_day")&&document.getElementById("end_time")&&document.getElementById("start_time")&&(!document.getElementById("start_day").checkValidity()||!document.getElementById("end_time").checkValidity()||!document.getElementById("start_time").checkValidity()),color:"blue",onClick:this.submitData},"Create"))))}}]),t}(n.Component),N=function(e){function t(){var e;return Object(c.a)(this,t),(e=Object(o.a)(this,Object(u.a)(t).call(this))).state={restaurants:[],location:"",restaurant:"",restaurants_retrieved:!1,restaurant_selected:!1},e.submit_filter=e.submit_filter.bind(Object(d.a)(Object(d.a)(e))),e.setRestaurant=e.setRestaurant.bind(Object(d.a)(Object(d.a)(e))),e}return Object(m.a)(t,e),Object(l.a)(t,[{key:"setRestaurant",value:function(e,t,a){this.setState({restaurant_selected:!0,img_url:e,restaurant:t,location:a}),console.log(t,a)}},{key:"submit_filter",value:function(e,t,a){console.log(e,t,a);var n=this;fetch("https://safe-headland-63176.herokuapp.com/restaurant_retrieval",{method:"POST",headers:{Accept:"application/json","Content-Type":"application/json"},body:JSON.stringify({zipCode:a,price:t,categories:"Mexican"})}).then(function(e){return e.json()}).then(function(e){n.setState({restaurant_selected:!1,restaurants_retrieved:!0,restaurants:e})})}},{key:"render",value:function(){var e=this,t=[],a=function(a){var n=r.a.createElement("li",{onClick:function(t){e.setRestaurant(e.state.restaurants[a].image_url,e.state.restaurants[a].name,e.state.restaurants[a].location)}},r.a.createElement("div",{className:"img",style:{"background-image":"url("+e.state.restaurants[a].image_url+")"}}),r.a.createElement("p",null,e.state.restaurants[a].name),r.a.createElement("p",null,e.state.restaurants[a].location));t.push(n)};for(var n in this.state.restaurants)a(n);return r.a.createElement("div",{className:"view-wrap"},r.a.createElement("div",{className:"filter_wrap"},r.a.createElement("div",{className:"filter_content"},r.a.createElement("p",{className:"NumberTitle"},"1"),r.a.createElement(C,{submit_filter:this.submit_filter}))),r.a.createElement("div",{className:"restaurants_div",style:{opacity:this.state.restaurants_retrieved?1:.3,"pointer-events":this.state.restaurants_retrieved?"auto":"none"}},r.a.createElement("p",{className:"NumberTitle"},"2"),r.a.createElement("ul",null,t)),r.a.createElement("div",{className:"events_wrap",style:{opacity:this.state.restaurant_selected?1:.3,"pointer-events":this.state.restaurant_selected?"auto":"none"}},r.a.createElement("p",{className:"NumberTitle"},"3"),r.a.createElement(w,{img_url:this.state.img_url,restaurant:this.state.restaurant,location:this.state.location,user:this.props.user})))}}]),t}(n.Component),S=(a(436),function(e){function t(){var e;return Object(c.a)(this,t),(e=Object(o.a)(this,Object(u.a)(t).call(this))).state={restaurant:"Dominos",time:"3:30pm",Owner:"Jake",current_event:"",current_event_info:""},e.leaveRegisteredEvent=e.leaveRegisteredEvent.bind(Object(d.a)(Object(d.a)(e))),e.to12=e.to12.bind(Object(d.a)(Object(d.a)(e))),e}return Object(m.a)(t,e),Object(l.a)(t,[{key:"leaveRegisteredEvent",value:function(){console.log("https://us-central1-litlunch.cloudfunctions.net/litlunch/events/"+this.state.current_event+"/leave"),fetch("https://us-central1-litlunch.cloudfunctions.net/litlunch/events/"+this.state.current_event+"/leave",{method:"POST",headers:{Accept:"application/json","Content-Type":"application/json",Authorization:this.props.user.ra},body:JSON.stringify({password:this.state.password})}).then(function(e){return e.json()}).then(function(e){console.log(e)})}},{key:"to12",value:function(e){var t=e+":00",a=+t.substr(0,2),n=a<12||24===a?"AM":"PM";return t=(a%12||12)+t.substr(2,3)+n}},{key:"componentDidMount",value:function(){var e=this;b.database().ref("users/"+this.props.user.uid+"/current_event").on("value",function(t){null==t.val()?e.setState({current_event:""}):e.setState({current_event:t.val()}),console.log(t.val())}),b.database().ref("events/"+this.state.current_event).on("value",function(t){null==t.val()?e.setState({current_event_info:""}):e.setState({current_event_info:t.val()})})}},{key:"render",value:function(){var e=[];if(this.state.current_event_info&&this.state.current_event_info[this.state.current_event])for(var t in this.state.current_event_info[this.state.current_event].members){var a=r.a.createElement("li",null,r.a.createElement("p",null,this.state.current_event_info[this.state.current_event].members[t]));e.push(a)}return this.state.current_event_info&&this.state.current_event_info[this.state.current_event]?r.a.createElement("div",{className:"currWrap"},r.a.createElement("div",{className:"current_event"},r.a.createElement("div",{className:"current_event_wrap"},r.a.createElement("div",{className:"current_event_wrap_grid"},r.a.createElement("div",{className:"current_event_wrap_grid_enc_a"},r.a.createElement("div",{className:"event_pic"}),r.a.createElement("p",{className:"brief_intro"},"LITLUNCH AT"),r.a.createElement("p",{className:"restaurant_time"},this.to12(this.state.current_event_info[this.state.current_event].start)),r.a.createElement("p",{className:"restaurant_time"},"to"),r.a.createElement("p",{className:"restaurant_time"},this.to12(this.state.current_event_info[this.state.current_event].end)),r.a.createElement("p",{className:"restaurant_name"},this.state.current_event_info[this.state.current_event].restaurant),r.a.createElement("p",{className:"restaurant_location"},this.state.current_event_info[this.state.current_event].location),r.a.createElement("p",{className:"restaurant_desc"},this.state.current_event_info[this.state.current_event].description),r.a.createElement("button",{className:"restaurant_leave",onClick:this.leaveRegisteredEvent},"Cancel")),r.a.createElement("div",{className:"current_event_wrap_grid_enc_b"},r.a.createElement("p",null,"Attending"),r.a.createElement("ul",{className:"current_members"},e)))))):r.a.createElement("div",null)}}]),t}(n.Component)),I={apiKey:"AIzaSyCZYoKhyxEWw9Hjj8UFgC8rHhrzvXozfRU",authDomain:"litlunch.firebaseapp.com",databaseURL:"https://litlunch.firebaseio.com",projectId:"litlunch",storageBucket:"litlunch.appspot.com",messagingSenderId:"236480702764",appId:"1:236480702764:web:0bda7984cfbeaba3"},D=a(51),T=b.initializeApp(I),P=function(e){function t(){return Object(c.a)(this,t),Object(o.a)(this,Object(u.a)(t).apply(this,arguments))}return Object(m.a)(t,e),Object(l.a)(t,[{key:"render",value:function(){var e=this.props,t=e.user,a=e.signOut,n=e.signInWithGoogle;return r.a.createElement("div",null,r.a.createElement(f.a,null,t?r.a.createElement("div",null,r.a.createElement(S,{user:t}),r.a.createElement(_,{user_name:t.displayName,signOut:a}),r.a.createElement("div",{className:"my_info_banner"},r.a.createElement("p",{style:{display:"inline-block","vertical-align":"top;"}},r.a.createElement("i",null,"LITLUNCH"))),r.a.createElement(D.c,null,r.a.createElement("div",null,r.a.createElement(D.a,{exact:!0,path:"/create",render:function(e){return r.a.createElement(N,Object.assign({},e,{user:t}))}}),r.a.createElement(D.a,{exact:!0,path:"/events",render:function(e){return r.a.createElement(g,Object.assign({},e,{user:t}))}})))):r.a.createElement("p",null,"Please sign in."),t?r.a.createElement("div",null):r.a.createElement("button",{onClick:n},"Sign in with Google")))}}]),t}(n.Component),J=T.auth(),A={googleProvider:new b.auth.GoogleAuthProvider},M=Object(y.a)({providers:A,firebaseAppAuth:J})(P);Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));s.a.render(r.a.createElement(M,null),document.getElementById("root")),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then(function(e){e.unregister()})}},[[211,1,2]]]);
//# sourceMappingURL=main.eb8c1ac3.chunk.js.map